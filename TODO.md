### Evermind 项目路线图与待办事项

这份路线图是我们从v0.1版本走向更成熟、更强大的未来版本的战略规划。

**优先级定义:**
* **P0 (紧急):** 必须在v0.1正式版发布前修复或实现的核心问题。
* **P1 (高):** v1.0版本应具备的关键功能和优化。
* **P2 (中):** 未来版本的重要功能扩展。
* **P3 (低/愿景):** 长期发展的宏大目标。

| 优先级 (Priority) | 类别 (Category)       | 任务/功能 (Task/Feature)                      | 描述 (Description)                                                                                                                                      | 状态 (Status) |
| :---------------- | :-------------------- | :-------------------------------------------- | :------------------------------------------------------------------------------------------------------------------------------------------------------ | :------------ |
| **P0**            | **核心功能 & 健壮性** | **修复: 检索精度问题 (上下文污染)**           | 调整 `_rerank_memories` 方法，将默认检索的 `k` 值从10降至一个更合理的值（如3或5），并增加一个RRIF分数阈值，以过滤掉不相关的记忆，解决“上下文污染”问题。 | **待办**      |
| **P0**            | **核心功能 & 健壮性** | **优化: 强化答案合成的Prompt**                | 在 `_synthesize_answer` 中，强化Prompt指令，要求LLM严格基于提供的记忆回答，并在信息不足时明确说明，以提高 `faithfulness` 分数。                         | **待办**      |
| **P1**            | **核心功能 & 健壮性** | **实现: `_run_health_check_stage`**           | **(高重要性TODO)** 实现完整的记忆健康检查逻辑，包括筛选陈旧/低价值记忆，并根据配置执行固化、压缩、归档和删除等操作。                                    | **待办**      |
| **P1**            | **核心功能 & 健壮性** | **增强: `_update_memory_frequency` 的通用性** | **(中重要性TODO)** 为ChromaDB, PGVector等更多主流向量库添加特定的元数据更新逻辑，并完善相关文档警告。                                                   | **待办**      |
| **P1**            | **性能 & 可扩展性**   | **实现: 真正的异步任务处理**                  | 替换 `InProcessTaskQueue`，为Celery/Dramatiq等主流任务队列提供开箱即用的适配器，实现真正的后台异步处理，提升 `ingest` 接口的响应性能。                  | **待办**      |
| **P1**            | **生态 & 易用性**     | **建立: 完整的CI/CD流程**                     | 建立GitHub Actions工作流，自动化运行测试、代码检查 (linting) 和发布到PyPI的流程。                                                                       | **待办**      |
| **P2**            | **智能 & 功能**       | **升级: 元认知反思的聚类算法**                | 在 `_run_reflection_stage` 中，引入真正的向量聚类算法（如K-Means或DBSCAN），对高价值记忆进行主题聚类，使知识升华更具针对性和深度。                      | **待办**      |
| **P2**            | **性能 & 可扩展性**   | **优化: 数据库批量操作**                      | 对 `ingest` 和 `_update_memory_frequency` 等涉及数据库写入的操作进行重构，支持批量处理，以大幅提升高吞吐量场景下的性能。                                | **待办**      |
| **P2**            | **生态 & 易用性**     | **编写: 专业的项目文档**                      | 使用Sphinx或MkDocs等工具，为Evermind建立一个完整的、包含API参考和教程的专业文档网站。                                                                   | **待办**      |
| **P3**            | **智能 & 功能**       | **支持: 多模态记忆**                          | 将系统扩展到能处理和理解图像、音频等非文本记忆，这是通往更高级智能体的关键一步。                                                                        | **待办**      |
| **P3**            | **智能 & 功能**       | **引入: 更复杂的时序推理**                    | 增强系统对时间序列的理解能力，使其能回答更复杂的时间相关问题，例如“总结一下上周项目'凤凰'的所有进展”。                                                  | **待办**      |
| **P3**            | **智能 & 功能**       | **实现: 主动记忆关联**                        | 开发一个后台进程，能主动发现不同记忆之间的潜在联系，并在用户未明确提问时，适时地“提醒”或“联想”出相关信息。                                              | **待办**      |